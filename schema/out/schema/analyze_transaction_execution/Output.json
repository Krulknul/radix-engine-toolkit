{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Output",
  "description": "The response of the [`Input`]",
  "type": "object",
  "required": [
    "account_deposits",
    "account_proof_resources",
    "account_withdraws",
    "accounts_requiring_auth",
    "encountered_addresses",
    "newly_created"
  ],
  "properties": {
    "encountered_addresses": {
      "description": "The set of addresses encountered in the manifest.\n\nThis field is populated through static analysis of the manifest and captures the set of all addresses encountered in the manifest. This captures addresses if they're used in calls, used as arguments, or contained as parts of some list or array.",
      "allOf": [
        {
          "$ref": "#/definitions/EncounteredAddresses"
        }
      ]
    },
    "accounts_requiring_auth": {
      "description": "A set of account component addresses which were involved in actions that require auth.\n\nThis field is obtained through static analysis of the manifest by the Radix Engine Toolkit. When the toolkit encounters an instruction being performed on an account that requires auth (e.g., withdrawing funds, locking fee, creating proofs), it is added to this address set.\n\nIt is then the job of the wallet to determine whether the account has been securified and uses an access controller or is still operating in signature mode and produce the correct auth based on that.",
      "type": "array",
      "items": {
        "type": "string"
      },
      "uniqueItems": true
    },
    "account_proof_resources": {
      "description": "A set of the resource addresses of which proofs were created from accounts in this manifest.\n\nThis field is populated through static analysis of the manifest instruction. This field captures the resource addresses of all of the proofs created from accounts throughout the manifest. This field does not capture the amount of the proof created nor which account the proof was created from.",
      "type": "array",
      "items": {
        "type": "string"
      },
      "uniqueItems": true
    },
    "account_withdraws": {
      "description": "A list of the account withdraws seen in the manifest.\n\nThis field is populated through static analysis of the manifest and it captures information relating to the resources withdrawn from accounts such as the component address of the account, the resource address of the withdrawn, and either an amount or set of non-fungible local ids of the withdrawn resources.",
      "type": "array",
      "items": {
        "$ref": "#/definitions/AccountWithdraw"
      }
    },
    "account_deposits": {
      "description": "A list of the account deposits which occur in the transaction.\n\nThis field is populated through both static analysis of the manifest and through the context provided by the transaction preview. All deposits referred to as \"exact\" are deposits which are guaranteed by the static analysis while the ones referred to as \"estimate\" are deposits which are primarily obtained from the context of the previews",
      "type": "array",
      "items": {
        "$ref": "#/definitions/AccountDeposit"
      }
    },
    "newly_created": {
      "description": "The set of entities which were newly created in this transaction.",
      "allOf": [
        {
          "$ref": "#/definitions/NewlyCreated"
        }
      ]
    }
  },
  "definitions": {
    "EncounteredAddresses": {
      "description": "The set of addresses encountered in the manifest",
      "type": "object",
      "required": [
        "component_addresses",
        "package_addresses",
        "resource_addresses"
      ],
      "properties": {
        "component_addresses": {
          "description": "The set of component addresses encountered in the manifest",
          "allOf": [
            {
              "$ref": "#/definitions/EncounteredComponents"
            }
          ]
        },
        "resource_addresses": {
          "description": "The set of resource addresses encountered in the manifest",
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        },
        "package_addresses": {
          "description": "The set of package addresses encountered in the manifest",
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        }
      }
    },
    "EncounteredComponents": {
      "description": "The set of addresses encountered in the manifest",
      "type": "object",
      "required": [
        "access_controller",
        "accounts",
        "consensus_managers",
        "identities",
        "user_applications",
        "validators"
      ],
      "properties": {
        "user_applications": {
          "description": "The set of user application components encountered in the manifest",
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        },
        "accounts": {
          "description": "The set of account components encountered in the manifest",
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        },
        "identities": {
          "description": "The set of identity components encountered in the manifest",
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        },
        "consensus_managers": {
          "description": "The set of epoch_manager components encountered in the manifest",
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        },
        "validators": {
          "description": "The set of validator components encountered in the manifest",
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        },
        "access_controller": {
          "description": "The set of validator components encountered in the manifest",
          "type": "array",
          "items": {
            "type": "string"
          },
          "uniqueItems": true
        }
      }
    },
    "AccountWithdraw": {
      "type": "object",
      "required": [
        "component_address",
        "resource_quantifier"
      ],
      "properties": {
        "component_address": {
          "description": "The component address of the account that the resources were withdrawn from.",
          "type": "string"
        },
        "resource_quantifier": {
          "description": "A specifier used to specify what was withdrawn from the account - this could either be an amount or a set of non-fungible local ids.\n\nWhen this vector has more than one item, it means that multiple instructions performed a withdraw from the same account of the same resource.",
          "allOf": [
            {
              "$ref": "#/definitions/ResourceQuantifier"
            }
          ]
        }
      }
    },
    "ResourceQuantifier": {
      "description": "Specifies resources either through amounts for fungible and non-fungible resources or through ids for non-fungible resources.",
      "oneOf": [
        {
          "type": "object",
          "required": [
            "amount",
            "resource_address",
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Amount"
              ]
            },
            "resource_address": {
              "description": "A specifier of the resource manager, can either be an address for already existing resource managers or an index for newly created resource managers that can not be queried through the network gateway.",
              "allOf": [
                {
                  "$ref": "#/definitions/ResourceManagerSpecifier"
                }
              ]
            },
            "amount": {
              "description": "The amount of resources withdrawn from the account. This is a decimal value which is serialized as a string.",
              "type": "string",
              "pattern": "[+-]?([0-9]*[.])?[0-9]+"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "ids",
            "resource_address",
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Ids"
              ]
            },
            "resource_address": {
              "description": "A specifier of the resource manager, can either be an address for already existing resource managers or an index for newly created resource managers that can not be queried through the network gateway.",
              "allOf": [
                {
                  "$ref": "#/definitions/ResourceManagerSpecifier"
                }
              ]
            },
            "ids": {
              "description": "The set of non-fungible ids",
              "type": "array",
              "items": {
                "$ref": "#/definitions/NonFungibleLocalId"
              },
              "uniqueItems": true
            }
          }
        }
      ]
    },
    "ResourceManagerSpecifier": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "address",
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Existing"
              ]
            },
            "address": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "index",
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "NewlyCreated"
              ]
            },
            "index": {
              "type": "string"
            }
          }
        }
      ]
    },
    "NonFungibleLocalId": {
      "description": "Represents non-fungible ids which is a discriminated union of the different types that non-fungible ids may be.",
      "examples": [
        "#1#"
      ],
      "type": "string"
    },
    "AccountDeposit": {
      "type": "object",
      "oneOf": [
        {
          "type": "object",
          "required": [
            "resource_quantifier",
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Guaranteed"
              ]
            },
            "resource_quantifier": {
              "description": "A specifier of the amount or ids of resources.",
              "allOf": [
                {
                  "$ref": "#/definitions/ResourceQuantifier"
                }
              ]
            }
          }
        },
        {
          "type": "object",
          "required": [
            "instruction_index",
            "resource_quantifier",
            "type"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Predicted"
              ]
            },
            "instruction_index": {
              "description": "The instruction index that that this amount originates from. This might either be an instruction where a bucket is created of all worktop resources or an instruction where a deposit is performed of an estimated amount.",
              "type": "string",
              "pattern": "[0-9]+"
            },
            "resource_quantifier": {
              "description": "A specifier of the amount or ids of resources.",
              "allOf": [
                {
                  "$ref": "#/definitions/ResourceQuantifier"
                }
              ]
            }
          }
        }
      ],
      "required": [
        "component_address"
      ],
      "properties": {
        "component_address": {
          "type": "string"
        }
      }
    },
    "NewlyCreated": {
      "description": "The set of newly created entities",
      "type": "object",
      "required": [
        "resources"
      ],
      "properties": {
        "resources": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/NewlyCreatedResource"
          }
        }
      }
    },
    "NewlyCreatedResource": {
      "type": "object",
      "required": [
        "metadata"
      ],
      "properties": {
        "metadata": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/MetadataKeyValue"
          }
        }
      }
    },
    "MetadataKeyValue": {
      "type": "object",
      "required": [
        "key",
        "value"
      ],
      "properties": {
        "key": {
          "type": "string"
        },
        "value": {
          "$ref": "#/definitions/MetadataValue"
        }
      }
    },
    "MetadataValue": {
      "oneOf": [
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "String"
              ]
            },
            "value": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Bool"
              ]
            },
            "value": {
              "type": "boolean"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "U8"
              ]
            },
            "value": {
              "type": "string",
              "pattern": "[0-9]+"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "U32"
              ]
            },
            "value": {
              "type": "string",
              "pattern": "[0-9]+"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "U64"
              ]
            },
            "value": {
              "type": "string",
              "pattern": "[0-9]+"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "I32"
              ]
            },
            "value": {
              "type": "string",
              "pattern": "[0-9]+"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "I64"
              ]
            },
            "value": {
              "type": "string",
              "pattern": "[0-9]+"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Decimal"
              ]
            },
            "value": {
              "type": "string",
              "pattern": "[0-9]+"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "GlobalAddress"
              ]
            },
            "value": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "PublicKey"
              ]
            },
            "value": {
              "$ref": "#/definitions/PublicKey"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "NonFungibleGlobalId"
              ]
            },
            "value": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "NonFungibleLocalId"
              ]
            },
            "value": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Instant"
              ]
            },
            "value": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Url"
              ]
            },
            "value": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "Origin"
              ]
            },
            "value": {
              "type": "string"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "PublicKeyHash"
              ]
            },
            "value": {
              "$ref": "#/definitions/PublicKeyHash"
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "StringArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "BoolArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "boolean"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "U8Array"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "U32Array"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "U64Array"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "I32Array"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "I64Array"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "DecimalArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "GlobalAddressArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "PublicKeyArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PublicKey"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "NonFungibleGlobalIdArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "NonFungibleLocalIdArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "InstantArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "UrlArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "OriginArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "type": "string"
              }
            }
          }
        },
        {
          "type": "object",
          "required": [
            "type",
            "value"
          ],
          "properties": {
            "type": {
              "type": "string",
              "enum": [
                "PublicKeyHashArray"
              ]
            },
            "value": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/PublicKeyHash"
              }
            }
          }
        }
      ]
    },
    "PublicKey": {
      "description": "A discriminated union of the possible public keys used by Scrypto and the Radix Engine.",
      "oneOf": [
        {
          "description": "A byte array of 33 bytes which are serialized as a 66 character long hex-encoded string representing a public key from the ECDSA Secp256k1 elliptic curve.",
          "examples": [
            {
              "curve": "EcdsaSecp256k1",
              "public_key": "0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"
            }
          ],
          "type": "object",
          "required": [
            "curve",
            "public_key"
          ],
          "properties": {
            "curve": {
              "type": "string",
              "enum": [
                "EcdsaSecp256k1"
              ]
            },
            "public_key": {
              "type": "string",
              "maxLength": 66,
              "minLength": 66,
              "pattern": "[0-9a-fA-F]+"
            }
          }
        },
        {
          "description": "A byte array of 32 bytes which are serialized as a 64 character long hex-encoded string representing a public key from the EDDSA Ed25519 edwards curve.",
          "examples": [
            {
              "curve": "EddsaEd25519",
              "public_key": "4cb5abf6ad79fbf5abbccafcc269d85cd2651ed4b885b5869f241aedf0a5ba29"
            }
          ],
          "type": "object",
          "required": [
            "curve",
            "public_key"
          ],
          "properties": {
            "curve": {
              "type": "string",
              "enum": [
                "EddsaEd25519"
              ]
            },
            "public_key": {
              "type": "string",
              "maxLength": 64,
              "minLength": 64,
              "pattern": "[0-9a-fA-F]+"
            }
          }
        }
      ]
    },
    "PublicKeyHash": {
      "description": "A discriminated union of the possible public keys used by Scrypto and the Radix Engine.",
      "oneOf": [
        {
          "description": "A byte array of 29 bytes which are serialized as a 58 character long hex-encoded string representing the hash of an ECDSA Secp256k1 public key.",
          "type": "object",
          "required": [
            "curve",
            "public_key_hash"
          ],
          "properties": {
            "curve": {
              "type": "string",
              "enum": [
                "EcdsaSecp256k1"
              ]
            },
            "public_key_hash": {
              "type": "string",
              "maxLength": 58,
              "minLength": 58,
              "pattern": "[0-9a-fA-F]+"
            }
          }
        },
        {
          "description": "A byte array of 29 bytes which are serialized as a 58 character long hex-encoded string representing the hash of an EdDSA Ed25519 public key.",
          "type": "object",
          "required": [
            "curve",
            "public_key_hash"
          ],
          "properties": {
            "curve": {
              "type": "string",
              "enum": [
                "EddsaEd25519"
              ]
            },
            "public_key_hash": {
              "type": "string",
              "maxLength": 58,
              "minLength": 58,
              "pattern": "[0-9a-fA-F]+"
            }
          }
        }
      ]
    }
  }
}